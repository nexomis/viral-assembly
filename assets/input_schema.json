{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/nexomis/rna-preprocessing/main/assets/schema_input.json",
    "title": "nexomis/viral-assembly pipeline - params.input schema",
    "description": "Sample Sheet input for viral genome assembly",
    "type": "array",
    "items": {
      "type": "object",
      "properties": {
        "sample_name": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9_]+$",
          "errorMessage": "Sample name must contains only alphanumeric chars or underscore"
        },
        "path_fq_R1": {
          "type": "string",
          "pattern": "^\\S+\\.(fastq|fq|spring)(\\.)?(gz|z|bz|bzip2)?$",
          "format": "file-path",
          "errorMessage": "Path for R1 must be provided, cannot contain spaces and must end with .fastq, .fq, .spring optionally followed by .gz (or .z, .bz or .bzip2)"
        },
        "path_fq_R2": {
          "anyOf": [
            {
              "type": "string",
              "pattern": "^\\S+\\.(fastq|fq|spring)(\\.)?(gz|z|bz|bzip2)?$",
              "format": "file-path",
              "errorMessage": "Path for R2, if provided, cannot contain spaces and must end with .fastq, .fq optionally followed by .gz (or .z, .bz or .bzip2)"
            },
            {
              "type": "string",
              "maxLength": 0
            }
          ],
          "default": ""
        },
        "path_ref_genome": {
          "type": "string",
          "pattern": "^\\S+\\.(fasta|fa|fna)(\\.)?(gz|z|bz|bzip2)?$",
          "format": "file-path",
          "errorMessage": "Path for fasta genome reference must be provided, cannot contain spaces and must end with .fasta, .fa, .fna optionally followed by .gz (or .z, .bz or .bzip2)"
        },
        "taxid_host_genome": {
          "type": "number",
          "default" : -1,
          "errorMessage": "Taxid of host organism in order to remore reads from host genome/transcriptome."
        },
        "assembly_type":  {
          "type": "string",
          "default" : "rnaviral",
          "errorMessage": "Assmembly mode (used for: spades). Managed values are 'metaviral', 'rnaviral' and 'corona'; for other modes, refer to the spades documentation and provide the option as it should be added to the command line."
        }
      },
      "required": ["sample_name", "path_fq_R1", "path_ref_genome"]
    }
  }